{
    "author": "Eric Jizba",
    "name": "Azure Cosmos DB trigger",
    "description": "$CosmosDBTrigger_description",
    "programmingModel": "v4",
    "language": "JavaScript",
    "jobs": [
        {
            "name": "Create New Function",
            "type": "CreateNewFile",
            "inputs": [
                {
                    "assignTo": "$(FUNCTION_NAME_INPUT)",
                    "paramId": "trigger-functionName",
                    "defaultValue": "cosmosDBTrigger"
                },
                {
                    "assignTo": "$(CONNECTION_INPUT)",
                    "paramId": "cosmosDBTrigger-connection"
                },
                {
                    "assignTo": "$(DATABASE_NAME_INPUT)",
                    "paramId": "cosmosDBTrigger-databaseName"
                },
                {
                    "assignTo": "$(CONTAINER_NAME_INPUT)",
                    "paramId": "cosmosDBTrigger-containerName"
                },
                {
                    "assignTo": "$(CREATE_LEASE_CONTAINER_IF_NOT_EXISTS_INPUT)",
                    "paramId": "cosmosDBTrigger-createLeaseContainerIfNotExists"
                }
            ],
            "actions": [
                "getTemplateFile",
                "writeFile"
            ]
        }
    ],
    "actions": [
        {
            "name": "getTemplateFile",
            "type": "GetTemplateFileContent",
            "assignTo": "$(INDEX_FILE)",
            "filePath": "index.js"
        },
        {
            "name": "writeFile",
            "type": "WriteToFile",
            "source": "$(INDEX_FILE)",
            "filePath": "src/functions/$(FUNCTION_NAME_INPUT).js",
            "replaceTokens": true
        }
    ]
}